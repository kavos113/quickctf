<div class="admin-challenges-container">
  <header class="header">
    <h1>å•é¡Œç®¡ç†</h1>
    <div class="header-actions">
      <button class="theme-toggle" (click)="themeService.toggleTheme()" title="ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆ">
        @if (themeService.isDark()) {
          â˜€ï¸
        } @else {
          ğŸŒ™
        }
      </button>
      <button class="btn-secondary" (click)="goBack()">ãƒ¦ãƒ¼ã‚¶ãƒ¼ç”»é¢ã¸</button>
      <button class="btn-warning" (click)="deactivateAdmin()">ç®¡ç†è€…ãƒ¢ãƒ¼ãƒ‰çµ‚äº†</button>
    </div>
  </header>

  <div class="toolbar">
    <button class="btn-primary" (click)="createChallenge()">
      <span class="icon">+</span> æ–°è¦å•é¡Œä½œæˆ
    </button>
  </div>

  @if (adminService.isLoading()) {
    <div class="loading">èª­ã¿è¾¼ã¿ä¸­...</div>
  } @else if (adminService.error()) {
    <div class="error-message">{{ adminService.error() }}</div>
  } @else {
    <div class="challenges-table-container">
      <table class="challenges-table">
        <thead>
          <tr>
            <th>å•é¡Œå</th>
            <th>ã‚¸ãƒ£ãƒ³ãƒ«</th>
            <th>ãƒã‚¤ãƒ³ãƒˆ</th>
            <th>ãƒ•ãƒ©ã‚°</th>
          </tr>
        </thead>
        <tbody>
          @for (challenge of adminService.challenges(); track challenge.name) {
            <tr class="challenge-row" (click)="openDetail(challenge)">
              <td class="challenge-name">{{ challenge.name }}</td>
              <td>
                <span class="genre-badge">{{ challenge.genre }}</span>
              </td>
              <td class="points">{{ challenge.points }} pts</td>
              <td class="flag">{{ challenge.flag }}</td>
            </tr>
          } @empty {
            <tr>
              <td colspan="4" class="empty-message">å•é¡ŒãŒã‚ã‚Šã¾ã›ã‚“</td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  }
</div>
