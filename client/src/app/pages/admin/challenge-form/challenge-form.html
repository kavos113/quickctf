<div class="challenge-form-container">
  <div class="challenge-form-card">
    <h1>{{ isEditMode() ? '問題を編集' : '新規問題作成' }}</h1>

    <form (ngSubmit)="onSubmit()">
      @if (error()) {
      <div class="error-message">{{ error() }}</div>
      }

      <div class="form-group">
        <label for="name">問題名 <span class="required">*</span></label>
        <input type="text" id="name" name="name" [(ngModel)]="name" placeholder="問題名を入力" [disabled]="isLoading()" />
      </div>

      <div class="form-group">
        <label for="genre">ジャンル <span class="required">*</span></label>
        <input type="text" id="genre" name="genre" [(ngModel)]="genre" placeholder="例: Web, Crypto, Pwn, Rev, Misc"
          [disabled]="isLoading()" />
      </div>

      <div class="form-group">
        <label for="points">ポイント <span class="required">*</span></label>
        <input type="number" id="points" name="points" [(ngModel)]="points" min="1" [disabled]="isLoading()" />
      </div>

      <div class="form-group">
        <label for="flag">フラグ <span class="required">*</span></label>
        <input type="text" id="flag" name="flag" [(ngModel)]="flag" placeholder="例: flag{example_flag}"
          [disabled]="isLoading()" />
      </div>

      <div class="form-group">
        <label for="description">説明 <span class="required">*</span></label>
        <textarea id="description" name="description" [(ngModel)]="description" placeholder="問題の説明を入力" rows="6"
          [disabled]="isLoading()"></textarea>
      </div>

      <div class="button-group">
        <button type="button" class="btn-secondary" (click)="cancel()" [disabled]="isLoading()">
          キャンセル
        </button>
        <button type="submit" class="btn-primary" [disabled]="isLoading()">
          @if (isLoading()) {
          <span>保存中...</span>
          } @else {
          <span>{{ isEditMode() ? '更新' : '作成' }}</span>
          }
        </button>
      </div>
    </form>
  </div>
</div>